"use strict";var shopCar={init:function(t){this.$ele=document.querySelector(t),this.event(),this.getShopListData()},event:function(){},getShopListData:function(){var s=this;sendAjax("json/shop.json",{success:function(t){t=JSON.parse(t),s.shopList=t.data,s.getCarList()}})},getCarList:function(){if(localStorage.shopList){console.log(localStorage.shopList),this.carList=JSON.parse(localStorage.shopList);for(var t=0;t<this.shopList.length;t++)for(var s=0;s<this.carList.length;s++)if(this.shopList[t].id==this.carList[s].id){Object.assign(this.carList[s],this.shopList[t]);break}this.countPrice(this.carList),this.insertCarList(this.carList)}else{var o=[];o.push('<div  class="nothing">\n                        您的购物车空空如也！\n                    </div>'),this.$ele.innerHTML=o.join("")}},countPrice:function(t){t=t.map(function(t){return t.countPrice=t.price*t.count})},insertCarList:function(t){var s=[];console.log(this.shopList);for(var o=0;o<t.length;o++)s.push('<div class=\'shop_detalis\'>\n                        <img src="img/b0bd91f68a704542948e4842183d77741520225281202jedqvq8o10237.jpg" id="images">\n                          <div class="_shop">商品名称:<span class="shop-name">'.concat(t[o].name,'</span><br  />\n                        数量: <input class="sho_count" type="number" value="').concat(t[o].count,'" /><br />\n                        价格: <span class="sho_price">').concat(t[o].price,'</span><br  />\n                        商品总价: <span class="sho_total">').concat(t[o].countPrice,'</span><br />\n                        商品提示: <span class="shop-tip">').concat(t[o].ps,'</span>\n                        <button class="btn shop-btn-del" attr-index="').concat(o,'">删除</button>\n                        <button class="sub pay">确定</button></div>\n                    </div>'));this.$ele.innerHTML=s.join("");var n=document.querySelector(".shop_detalis"),i=document.querySelector(".sho_price"),e=document.querySelector(".btn"),c=document.querySelector(".sub"),a=document.querySelector(".sho_total"),r=document.querySelector(".sho_count");console.log(r.value),e.onclick=function(){n.style.display="none",localStorage.clear()},c.onclick=function(t){var s=localStorage.shopList;s=JSON.parse(localStorage.shopList),console.log(s);for(var o=0;o<s.length;o++)for(var n in s[o])s[o].count=r.value,console.log(s[o][n]);localStorage.shopList=JSON.stringify(s),console.log(e);var e=i.innerHTML*r.value;a.innerHTML=e.toString()}}};