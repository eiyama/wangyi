"use strict";function Star(t,i,o,h){this.ctx=t,this.id=i,this.x=o,this.y=h,this.r=Math.floor(2*Math.random())+1;var s=(Math.floor(10*Math.random())+1)/10/2;this.color="rgba(255,255,255,"+s+")"}function Dot(t,i,o,h,s){this.ctx=t,this.id=i,this.x=o,this.y=h,this.r=Math.floor(4*Math.random())+1,this.maxLinks=2,this.speed=.5,this.a=.5,this.aReduction=.005,this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.dir=Math.floor(140*Math.random())+200}Star.prototype.draw=function(){this.ctx.fillStyle=this.color,this.ctx.shadowBlur=2*this.r,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()},Star.prototype.move=function(){var t=t=document.documentElement.clientHeight;this.y-=.15,this.y<=-10&&(this.y=t+10),this.draw()},Star.prototype.die=function(){stars[this.id]=null,delete stars[this.id]},Dot.prototype.draw=function(){this.ctx.fillStyle=this.color,this.ctx.shadowBlur=2*this.r,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()},Dot.prototype.link=function(){if(0!=this.id){var t=getPreviousDot(this.id,1),i=getPreviousDot(this.id,2),o=getPreviousDot(this.id,3);t&&(this.ctx.strokeStyle=this.linkColor,this.ctx.lineWidth=1,this.ctx.shadowBlur=0,this.ctx.moveTo(t.x,t.y),this.ctx.beginPath(),this.ctx.lineTo(this.x,this.y),0!=i&&this.ctx.lineTo(i.x,i.y),0!=o&&this.ctx.lineTo(o.x,o.y),this.ctx.stroke(),this.ctx.closePath())}},Dot.prototype.move=function(){this.a-=this.aReduction,this.a<=0?this.die():(this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.x=this.x+Math.cos(degToRad(this.dir))*this.speed,this.y=this.y+Math.sin(degToRad(this.dir))*this.speed,this.draw(),this.link())},Dot.prototype.die=function(){dots[this.id]=null,delete dots[this.id]};var starBg=function(){var i,a,o,h,s,r,c,l=!1,e=[],d=[];return{init:function(t){i=document.querySelector(t),a=i.getContext("2d"),this.setCanvasSize(),this.start()},event:function(){window.onmousemove=function(t){l=!0,r=t.clientX,c=t.clientY,clearInterval(s),s=setTimeout(function(){l=!1},100)}},start:function(){a.strokeStyle="white",a.shadowColor="white";for(var t=0;t<80;t++)e[t]=new Star(a,t,Math.floor(Math.random()*o),Math.floor(Math.random()*h));a.shadowBlur=0,this.animate()},degToRad:function(t){return t*(Math.PI/180)},drawIfMouseMoving:function(){if(l){if(0==d.length)return d[0]=new Dot(a,0,r,c),void d[0].draw();var t=this.getPreviousDot(d.length,1),i=t.x,o=t.y,h=Math.abs(i-r),s=Math.abs(o-c);if(!(h<2||s<2)){var e=.5<Math.random()?-1:1;e=e*Math.floor(50*Math.random())+1;var n=.5<Math.random()?-1:1;n=n*Math.floor(50*Math.random())+1,d[d.length]=new Dot(a,d.length,r+e,c+n),d[d.length-1].draw(),d[d.length-1].link()}}},animate:function(){for(var t in a.clearRect(0,0,o,h),e)e[t].move();for(var t in d)d[t].move();this.drawIfMouseMoving(),requestAnimationFrame(this.animate.bind(this))},setCanvasSize:function(){o=document.documentElement.clientWidth,h=document.documentElement.clientHeight,i.setAttribute("width",o),i.setAttribute("height",h)},getPreviousDot:function(t,i){return!(0==t||t-i<0)&&(void 0!==d[t-i]&&d[t-i])}}}();